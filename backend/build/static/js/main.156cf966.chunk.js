(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{77:function(e,t,n){"use strict";n.r(t);var c=n(13),s=n(0),a=n.n(s),r=n(19),i=n.n(r),o=n(4),l=n.n(o),u=n(7),j=n(5),d=n(8),b=(n(51),n(20)),p=n(21),O=n(42),h=n.n(O).a.create({baseURL:"http://localhost:5000/",headers:{"Content-type":"application/json"}}),m=new(function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,[{key:"get",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/system/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getqtypes",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/system/choosequiz");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"find",value:function(e,t){return h.get("?".concat(t,"=").concat(e))}},{key:"getQuestion",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/system/getquestionbyid",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateQuestion",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/system/updatequestion",{data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteQuestionById",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/system/deletequestion",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),x=n(1),f=function(e){var t=Object(s.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(0),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(s.useState)(!1),b=Object(j.a)(u,2),p=b[0],O=b[1],h=Object(s.useState)(0),f=Object(j.a)(h,2),v=f[0],g=f[1],y=Object(s.useState)([]),N=Object(j.a)(y,2),w=N[0],k=(N[1],new URLSearchParams(Object(d.g)().search));Object(s.useEffect)((function(){q()}),[]);var S,q=function(){m.find(k.get("type"),"type").then((function(e){a(e.data.questions)})).catch((function(e){console.log(e)}))};return S=o==c.length-1?Object(x.jsx)("a",{className:"btn btn-primary",onClick:function(){return g(w.filter((function(e){return 1==e})).length),void O(!0)},children:"Submit"}):Object(x.jsx)("a",{className:"btn btn-primary",onClick:function(){return function(){var e=o+1;e<c.length&&l(e)}()},children:"Next"}),0==c.length?Object(x.jsx)("div",{children:"Loading"}):Object(x.jsx)("div",{className:"app",children:p?Object(x.jsxs)("div",{className:"alert alert-primary text-center",role:"alert",children:["You scored ",v," out of ",c.length]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("div",{className:"card ",children:[Object(x.jsxs)("div",{className:"card-header",children:[Object(x.jsxs)("span",{children:["Question No : ",o+1]}),"/",c.length]}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("h5",{className:"card-title",children:["Domain : ",c[o].type]}),Object(x.jsxs)("p",{className:"card-text",children:[c[o].questionText,"."]}),c[o].answerOptions.map((function(e,t){return Object(x.jsxs)("div",{className:"form-check",children:[Object(x.jsx)("input",{className:"form-check-input",type:"radio",name:o,defaultChecked:0===t,onClick:function(){return function(e,t,n){null==w[e]?w.splice(e,0,t):w.splice(e,1,t)}(o,e.isCorrect)}},t),Object(x.jsx)("label",{className:"form-check-label",children:e.answerText})]})})),S]})]})})})})})})},v=new(function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,[{key:"CheckLogin",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/user/login",{email:t.email,password:t.password});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CheckRegister",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/user/signup",{email:t.email,password:t.password});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetProfile",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/user/auth/profile?access_token="+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),g=function(e){var t=new URLSearchParams(Object(d.g)().search),n=Object(s.useState)([]),c=Object(j.a)(n,2),a=c[0],r=c[1],i=Object(s.useState)(t.get("access_token")),o=Object(j.a)(i,2),l=o[0],u=(o[1],Object(s.useState)({})),b=Object(j.a)(u,2),p=(b[0],b[1]);Object(s.useEffect)((function(){O(),h()}),[]);var O=function(){m.getqtypes().then((function(e){r(e.data.quiz_types)})).catch((function(e){console.log(e)}))},h=function(){l&&v.GetProfile(l).then((function(e){var t=Object.assign({},e.data);p(t),console.log(t)})).catch((function(e){console.log(e)}))};return 0===a.length?Object(x.jsx)("div",{children:"Loading"}):Object(x.jsx)("div",{className:"row",children:a.map((function(e,t){return Object(x.jsx)("div",{className:"col-sm-6",children:Object(x.jsx)("div",{className:"card",style:{margin:20},children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"card-title",children:e}),Object(x.jsx)("p",{className:"card-text",children:"With supporting text below as a natural lead-in to additional content."}),Object(x.jsx)("a",{href:"/?type=".concat(e),className:"btn btn-primary",children:"Start Quiz"})]})})},t)}))})};var y=function(){return Object(x.jsx)("div",{className:"App",children:"adduser"})},N=n(26),w=n(12);var k=function(){var e=Object(w.e)(),t=Object(s.useState)(!1),n=Object(j.a)(t,2),a=(n[0],n[1]),r=Object(s.useState)(!1),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(N.a)({defaultValues:{password:"",email:""}}),b=u.register,p=u.handleSubmit,O=function(t){v.CheckLogin(t).then((function(t){t.data.error?e.show(t.data.error):t.data.token&&(console.log(t.data),a(!0),l(t.data.token))})).catch((function(e){}))},h=function(){return Object(x.jsx)("div",{class:"container",children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-sm"}),Object(x.jsx)("div",{class:"col-sm",children:Object(x.jsxs)("div",{className:"card bg-light mb-3",style:{maxWidth:500},children:[Object(x.jsx)("div",{className:"card-header text-center",children:"Online Quiz"}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"card-title text-center",children:"Login"}),Object(x.jsxs)("form",{name:"contactform",onSubmit:p(O),children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{for:"exampleInputEmail1",children:"Email address"}),Object(x.jsx)("input",Object(c.a)(Object(c.a)({type:"email",className:"form-control",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email"},b("email")),{},{required:!0})),Object(x.jsx)("small",{id:"emailHelp",className:"form-text text-muted"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{for:"exampleInputPassword1",children:"Password"}),Object(x.jsx)("input",Object(c.a)(Object(c.a)({type:"password",className:"form-control",name:"password",placeholder:"Password"},b("password")),{},{required:!0}))]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",id:"submit",value:"Submit",children:"Submit"})]}),Object(x.jsx)("p",{className:"card-text"})]})]})}),Object(x.jsx)("div",{class:"col-sm"})]})})};return o?Object(x.jsx)(d.a,{to:"/quiz?access_token="+o}):Object(x.jsx)(h,{})};var S=function(){var e=Object(w.e)(),t=Object(s.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=(n[1],Object(N.a)({defaultValues:{password:"",email:""}})),i=r.register,o=r.handleSubmit,l=function(t){v.CheckRegister(t).then((function(t){console.log(t.data.user),t.data.error?e.show(t.data.error):t.data.user&&console.log("registered")})).catch((function(e){}))},u=function(){return Object(x.jsx)("div",{class:"container",children:Object(x.jsxs)("div",{class:"row",children:[Object(x.jsx)("div",{class:"col-sm"}),Object(x.jsx)("div",{class:"col-sm",children:Object(x.jsxs)("div",{className:"card bg-light mb-3",style:{maxWidth:500},children:[Object(x.jsx)("div",{className:"card-header text-center",children:"Online Quiz"}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"card-title text-center",children:"Register as a New Student"}),Object(x.jsx)("br",{}),Object(x.jsxs)("form",{name:"contactform",onSubmit:o(l),children:[Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Email address"}),Object(x.jsx)("input",Object(c.a)(Object(c.a)({type:"email",className:"form-control",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email"},i("email")),{},{required:!0})),Object(x.jsx)("small",{id:"emailHelp",className:"form-text text-muted"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",Object(c.a)(Object(c.a)({type:"password",className:"form-control",name:"password",placeholder:"Password"},i("password")),{},{required:!0}))]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",id:"submit",value:"Submit",children:"Submit"})]}),Object(x.jsx)("p",{className:"card-text"})]})]})}),Object(x.jsx)("div",{class:"col-sm"})]})})};return a?Object(x.jsx)(d.a,{to:"/quiz"}):Object(x.jsx)(u,{})},q=n(81),C=n(82),Q=function(e){var t=Object(w.e)(),n=Object(s.useState)([]),c=Object(j.a)(n,2),a=c[0],r=c[1],i=Object(s.useState)(!1),o=Object(j.a)(i,2),d=o[0],b=o[1],p=Object(s.useState)(!1),O=Object(j.a)(p,2),h=(O[0],O[1],Object(s.useState)(!1)),f=Object(j.a)(h,2),v=f[0],g=f[1],y=function(e){var t=e.target.value.split(",");null==v.answerOptions[e.target.id]?v.answerOptions.splice(e.target.id,0,{answerText:t[0],isCorrect:t[1]}):v.answerOptions.splice(e.target.id,1,{answerText:t[0],isCorrect:t[1]}),console.log(v)};Object(s.useEffect)((function(){k()}),[]);var N=function(){b(!1===d)},k=function(){m.get().then((function(e){r(e.data.questions)})).catch((function(e){console.log(e)}))},S=function(){k()},Q=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.getQuestion(t).then((function(e){g(e.data.questionObject),null!=v&&b(!1===d)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.deleteQuestionById(n).then((function(e){t.show(e.data),S()})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-primary",style:{margin:10},onClick:function(){return g({questionText:"Question",type:"Type",answerOptions:[]}),void N()},children:"Add New Question"}),Object(x.jsxs)("table",{className:"table table-striped",children:[Object(x.jsx)("thead",{className:"thead-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",children:"#"}),Object(x.jsx)("th",{scope:"col",children:"Question"}),Object(x.jsx)("th",{scope:"col",children:"Type"}),Object(x.jsx)("th",{scope:"col",children:"Edit"}),Object(x.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(x.jsx)("tbody",{children:a.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"row",children:t+1}),Object(x.jsxs)("td",{children:[Object(x.jsx)("b",{children:"Question:"})," ",e.questionText,Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"Options:"})," \xa0",e.answerOptions.map((function(e,t){return e.isCorrect?Object(x.jsx)("button",{type:"button",className:"btn btn-success",style:{margin:10},children:e.answerText}):Object(x.jsx)("button",{type:"button",className:"btn btn-danger",style:{margin:10},children:e.answerText})}))]}),Object(x.jsx)("td",{children:e.type}),Object(x.jsxs)("td",{children:[" ",Object(x.jsx)("button",{type:"button",className:"btn btn-primary",style:{margin:10},onClick:function(){return Q(e._id)},children:"Edit"})]}),Object(x.jsxs)("td",{children:[" ",Object(x.jsx)("button",{type:"button",className:"btn btn-primary",style:{margin:10},onClick:function(){return T(e._id)},children:"Delete"})]})]})}))})]}),Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)(q.a,{show:d,children:[Object(x.jsx)(q.a.Header,{children:Object(x.jsx)(q.a.Title,{children:"Edit Question"})}),Object(x.jsx)(q.a.Body,{children:Object(x.jsx)(x.Fragment,{children:v?Object(x.jsxs)("div",{children:[Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("div",{style:{margin:10},children:Object(x.jsx)("label",{children:"Question"})}),Object(x.jsx)("textarea",{className:"form-control",id:"question_updatefield",rows:"3",defaultValue:v?v.questionText:"Loading"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-default",children:"Type"})}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"type_updatefield",defaultValue:v.type})]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{id:"Optionlist",children:v.answerOptions.map((function(e,t){return Object(x.jsxs)("div",{className:"input-group",id:t,children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsxs)("span",{className:"input-group-text",id:"",children:["Answer ",t+1," | Is Correct?"]})}),Object(x.jsx)("input",{type:"text",className:"form-control",name:"",defaultValue:e.answerText+","+e.isCorrect,id:t,onBlur:y}),Object(x.jsx)("div",{className:"input-group-append",children:Object(x.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:t,onClick:function(){return function(e){v.answerOptions.splice(e,1);var t=Object.assign({},v);g(t)}(t)},children:"x"})})]})}))})]}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary",style:{margin:10},onClick:function(){return function(e){v.answerOptions.splice(e,0,{answerText:"New option",isCorrect:!1});var t=Object.assign({},v);g(t)}(v.answerOptions.length)},children:"+ Option"})]}):"Loading..."})}),Object(x.jsxs)(q.a.Footer,{children:[Object(x.jsx)(C.a,{variant:"secondary",onClick:function(){v.questionText=document.querySelector("#question_updatefield").value,v.type=document.querySelector("#type_updatefield").value,m.updateQuestion(v).then((function(e){console.log(e),S()})).catch((function(e){console.log(e)}))},children:"Save"}),Object(x.jsx)(C.a,{variant:"secondary",onClick:N,children:"Close Modal"})]})]})})]})};var T=function(){Object(w.e)();var e=new URLSearchParams(Object(d.g)().search),t=a.a.useState({}),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(e.get("access_token")),o=Object(j.a)(i,2),l=o[0];o[1],Object(s.useEffect)((function(){u()}),[]);var u=function(){l&&v.GetProfile(l).then((function(e){var t=Object.assign({},e.data.user);r(t),console.log(t)})).catch((function(e){console.log(e)}))};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(x.jsxs)("a",{className:"navbar-brand",href:"#",children:["Hello ",c.email]}),Object(x.jsx)("ul",{className:"nav",children:c?"Student"==c.role?Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link",href:"/quiz?access_token="+l,children:"Quiz"})}):Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link active",href:"/admin/questions?access_token="+l,children:"Admin Question List"})}):Object(x.jsxs)("div",{children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link",href:"/register",children:"Register"})})]})})]}),Object(x.jsx)("div",{className:"container mt-3",children:Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{exact:!0,path:["/"],component:f}),Object(x.jsx)(d.b,{exact:!0,path:["/login"],component:k}),Object(x.jsx)(d.b,{exact:!0,path:["/adduser"],component:y}),Object(x.jsx)(d.b,{exact:!0,path:["/quiz"],component:g}),Object(x.jsx)(d.b,{exact:!0,path:["/register"],component:S}),Object(x.jsx)(d.b,{exact:!0,path:["/admin/questions"],component:Q})]})})]})},E=n(45),L=n(17),_={position:w.b.TOP_CENTER,timeout:5e3,offset:"100px",type:w.d.SUCCESS,transition:w.c.SCALE};i.a.render(Object(x.jsx)(L.a,{children:Object(x.jsx)(w.a,Object(c.a)(Object(c.a)({template:E.a},_),{},{children:Object(x.jsx)(T,{})}))}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.156cf966.chunk.js.map